{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\n\n// Get the top position of an element in the document\nvar getTop = function getTop(element, start) {\n  // return value of html.getBoundingClientRect().top ... IE : 0, other browsers : -pageYOffset\n  if (element.nodeName === 'HTML') return -start;\n  return element.getBoundingClientRect().top + start;\n}; // ease in out function thanks to:\n// http://blog.greweb.fr/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/\n\n\nvar easeInOutCubic = function easeInOutCubic(t) {\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n}; // calculate the scroll position we should be in\n// given the start and end point of the scroll\n// the time elapsed from the beginning of the scroll\n// and the total duration of the scroll (default 500ms)\n\n\nvar position = function position(start, end, elapsed, duration) {\n  if (elapsed > duration) return end;\n  return start + (end - start) * easeInOutCubic(elapsed / duration); // <-- you can change the easing funtion there\n  // return start + (end - start) * (elapsed / duration); // <-- this would give a linear scroll\n}; // we use requestAnimationFrame to be called by the browser before every repaint\n// if the first argument is an element then scroll to the top of this element\n// if the first argument is numeric then scroll to this location\n// if the callback exist, it is called when the scrolling is finished\n// if context is set then scroll that element, else scroll window\n\n\nvar smoothScroll = function smoothScroll(el, duration, callback, context) {\n  duration = duration || 500;\n  context = context || window;\n  var start = context.scrollTop || window.pageYOffset;\n  var end;\n\n  if (typeof el === 'number') {\n    end = _parseInt(el) - 60;\n  } else {\n    end = getTop(el, start) - 60;\n  }\n\n  var clock = _Date$now();\n\n  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\n    window.setTimeout(fn, 15);\n  };\n\n  var step = function step() {\n    var elapsed = _Date$now() - clock;\n\n    if (context !== window) {\n      context.scrollTop = position(start, end, elapsed, duration);\n    } else {\n      window.scroll(0, position(start, end, elapsed, duration));\n    }\n\n    if (elapsed > duration) {\n      if (typeof callback === 'function') {\n        callback(el);\n      }\n    } else {\n      requestAnimationFrame(step);\n    }\n  };\n\n  step();\n};\n\nexport default (function (url) {\n  return new _Promise(function (resolve, reject) {\n    var pattern = /^(\\/#.+)|(.+(\\/#.+))$/;\n\n    if (pattern.test(url)) {\n      var hash = pattern.exec(url).filter(function (item) {\n        return item;\n      }).pop();\n      var id = hash.replace(/\\/?#/, '');\n      var el = document.getElementById(id);\n\n      if (el) {\n        smoothScroll(el, 600, resolve);\n        return;\n      }\n    }\n\n    reject(new Error('Error: hash in URL is invalid or element not found!'));\n  });\n});","map":{"version":3,"sources":["C:/Users/Bogomol/Desktop/softgames/utils/smoothScroll.js"],"names":["getTop","element","start","nodeName","getBoundingClientRect","top","easeInOutCubic","t","position","end","elapsed","duration","smoothScroll","el","callback","context","window","scrollTop","pageYOffset","clock","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","step","scroll","url","resolve","reject","pattern","test","hash","exec","filter","item","pop","id","replace","document","getElementById","Error"],"mappings":"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","sourcesContent":["// Get the top position of an element in the document\r\nconst getTop = function (element, start) {\r\n  // return value of html.getBoundingClientRect().top ... IE : 0, other browsers : -pageYOffset\r\n  if (element.nodeName === 'HTML') return -start\r\n  return element.getBoundingClientRect().top + start\r\n}\r\n// ease in out function thanks to:\r\n// http://blog.greweb.fr/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/\r\nconst easeInOutCubic = function (t) {\r\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\r\n}\r\n\r\n// calculate the scroll position we should be in\r\n// given the start and end point of the scroll\r\n// the time elapsed from the beginning of the scroll\r\n// and the total duration of the scroll (default 500ms)\r\nconst position = function (start, end, elapsed, duration) {\r\n  if (elapsed > duration) return end\r\n  return start +\r\n    (end - start) *\r\n    easeInOutCubic(\r\n      elapsed / duration\r\n    ) // <-- you can change the easing funtion there\r\n  // return start + (end - start) * (elapsed / duration); // <-- this would give a linear scroll\r\n}\r\n\r\n// we use requestAnimationFrame to be called by the browser before every repaint\r\n// if the first argument is an element then scroll to the top of this element\r\n// if the first argument is numeric then scroll to this location\r\n// if the callback exist, it is called when the scrolling is finished\r\n// if context is set then scroll that element, else scroll window\r\nconst smoothScroll = function (el, duration, callback, context) {\r\n  duration = duration || 500\r\n  context = context || window\r\n  const start = context.scrollTop || window.pageYOffset\r\n  let end\r\n  if (typeof el === 'number') {\r\n    end = parseInt(el) - 60\r\n  } else {\r\n    end = getTop(el, start) - 60\r\n  }\r\n\r\n  const clock = Date.now()\r\n  const requestAnimationFrame = window.requestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    function (fn) {\r\n      window.setTimeout(fn, 15)\r\n    }\r\n\r\n  const step = function () {\r\n    const elapsed = Date.now() - clock\r\n    if (context !== window) {\r\n      context.scrollTop = position(start, end, elapsed, duration)\r\n    } else {\r\n      window.scroll(0, position(start, end, elapsed, duration))\r\n    }\r\n\r\n    if (elapsed > duration) {\r\n      if (typeof callback === 'function') {\r\n        callback(el)\r\n      }\r\n    } else {\r\n      requestAnimationFrame(step)\r\n    }\r\n  }\r\n  step()\r\n}\r\nexport default url => {\r\n  return new Promise(function (resolve, reject) {\r\n    const pattern = /^(\\/#.+)|(.+(\\/#.+))$/\r\n    if (pattern.test(url)) {\r\n      const hash = pattern.exec(url).filter(item => item).pop()\r\n      const id = hash.replace(/\\/?#/, '')\r\n      const el = document.getElementById(id)\r\n      if (el) {\r\n        smoothScroll(el, 600, resolve)\r\n        return\r\n      }\r\n    }\r\n    reject(new Error('Error: hash in URL is invalid or element not found!'))\r\n  })\r\n}"]},"metadata":{},"sourceType":"module"}