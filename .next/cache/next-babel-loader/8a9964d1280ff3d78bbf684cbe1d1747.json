{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from \"react\";\nimport ModalContext from \"../ModalContext\";\nimport \"./HotPanel.scss\";\nimport axios from 'axios';\nimport apiEndpoints from '../../utils/apiEndpoints';\nimport OpenPositionsIcon from \"../../assets/icons/OpenPositionIcon\";\nimport LinkSmoothScroll from \"../LinkSmoothScroll\";\n\nconst HotPanel = props => {\n  const {\n    0: positions,\n    1: setPositions\n  } = useState([]);\n  const {\n    openModal\n  } = useContext(ModalContext);\n  useEffect(() => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n\n    const loadData = () => {\n      try {\n        axios.get(apiEndpoints.positions, {\n          cancelToken: source.token\n        }).then(({\n          data: {\n            offers: positions\n          }\n        }) => {\n          setPositions(positions);\n        });\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log(\"cancelled\");\n        } else {\n          throw error;\n        }\n      }\n    };\n\n    loadData();\n    return () => {\n      source.cancel();\n    };\n  }, []);\n  return __jsx(\"div\", {\n    className: \"hotPanel\"\n  }, __jsx(\"button\", {\n    className: \"hotPanel-positions\"\n  }, positions.length ? __jsx(\"span\", {\n    className: \"hotPanel-positionsCounter\"\n  }, positions.length) : null, \"open positions\", __jsx(LinkSmoothScroll, {\n    href: \"/career/#job-openings\"\n  }, __jsx(\"a\", {\n    className: \"hotPanel-positionsBadge\"\n  }, __jsx(\"div\", {\n    className: \"hotPanel-positionsInfo\"\n  }, positions.length ? __jsx(\"h4\", {\n    className: \"hotPanel-positionsCounter\"\n  }, positions.length) : null, __jsx(\"h4\", null, \"open positions\")), __jsx(OpenPositionsIcon, null)))), __jsx(\"button\", {\n    className: \"hotPanel-contactUs\",\n    onClick: openModal\n  }, \"contact us\"));\n};\n\nexport default HotPanel;","map":{"version":3,"sources":["C:/Users/Bogomol/Desktop/softgames/components/HotPanel/HotPanel.js"],"names":["React","useState","useEffect","useContext","ModalContext","axios","apiEndpoints","OpenPositionsIcon","LinkSmoothScroll","HotPanel","props","positions","setPositions","openModal","CancelToken","source","loadData","get","cancelToken","token","then","data","offers","error","isCancel","console","log","cancel","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAO,iBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AACxB,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BX,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM;AAACY,IAAAA;AAAD,MAAcV,UAAU,CAACC,YAAD,CAA9B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,WAAW,GAAGT,KAAK,CAACS,WAA1B;AACA,UAAMC,MAAM,GAAGD,WAAW,CAACC,MAAZ,EAAf;;AAEA,UAAMC,QAAQ,GAAG,MAAM;AACrB,UAAG;AACDX,QAAAA,KAAK,CAACY,GAAN,CAAUX,YAAY,CAACK,SAAvB,EAAkC;AAAEO,UAAAA,WAAW,EAAEH,MAAM,CAACI;AAAtB,SAAlC,EAAiEC,IAAjE,CAAsE,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,MAAM,EAAEX;AAAV;AAAR,SAAD,KAAqC;AACzGC,UAAAA,YAAY,CAACD,SAAD,CAAZ;AACD,SAFD;AAGD,OAJD,CAIE,OAAMY,KAAN,EAAa;AACb,YAAIlB,KAAK,CAACmB,QAAN,CAAeD,KAAf,CAAJ,EAA2B;AACzBE,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,SAFD,MAEO;AACL,gBAAMH,KAAN;AACD;AACF;AACF,KAZD;;AAcAP,IAAAA,QAAQ;AACR,WAAO,MAAM;AACXD,MAAAA,MAAM,CAACY,MAAP;AACD,KAFD;AAGD,GAtBQ,EAsBN,EAtBM,CAAT;AAwBA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAQ,IAAA,SAAS,EAAC;AAAlB,KACGhB,SAAS,CAACiB,MAAV,GACC;AAAM,IAAA,SAAS,EAAC;AAAhB,KAA6CjB,SAAS,CAACiB,MAAvD,CADD,GAEG,IAHN,oBAKE,MAAC,gBAAD;AAAkB,IAAA,IAAI,EAAC;AAAvB,KACE;AAAG,IAAA,SAAS,EAAC;AAAb,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGjB,SAAS,CAACiB,MAAV,GACC;AAAI,IAAA,SAAS,EAAC;AAAd,KAA2CjB,SAAS,CAACiB,MAArD,CADD,GAEG,IAHN,EAIE,mCAJF,CADF,EAOE,MAAC,iBAAD,OAPF,CADF,CALF,CADF,EAkBE;AAAQ,IAAA,SAAS,EAAC,oBAAlB;AAAuC,IAAA,OAAO,EAAEf;AAAhD,kBAlBF,CADF;AAsBD,CAnDD;;AAqDA,eAAeJ,QAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport ModalContext from \"../ModalContext\";\r\nimport \"./HotPanel.scss\";\r\nimport axios from 'axios';\r\nimport apiEndpoints from '../../utils/apiEndpoints';\r\nimport OpenPositionsIcon from \"../../assets/icons/OpenPositionIcon\";\r\nimport LinkSmoothScroll from \"../LinkSmoothScroll\";\r\n\r\nconst HotPanel = props => {\r\n  const [positions, setPositions] = useState([]);\r\n\r\n  const {openModal} = useContext(ModalContext);\r\n\r\n  useEffect(() => {\r\n    const CancelToken = axios.CancelToken;\r\n    const source = CancelToken.source();\r\n\r\n    const loadData = () => {\r\n      try{\r\n        axios.get(apiEndpoints.positions, { cancelToken: source.token }).then(({ data: { offers: positions } }) => {\r\n          setPositions(positions);\r\n        })\r\n      } catch(error) {\r\n        if (axios.isCancel(error)) {\r\n          console.log(\"cancelled\");\r\n        } else {\r\n          throw error;\r\n        }\r\n      }\r\n    };\r\n\r\n    loadData();\r\n    return () => {\r\n      source.cancel();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"hotPanel\">\r\n      <button className=\"hotPanel-positions\">\r\n        {positions.length ? (\r\n          <span className=\"hotPanel-positionsCounter\">{positions.length}</span>\r\n        ) : null}\r\n        open positions\r\n        <LinkSmoothScroll href=\"/career/#job-openings\">\r\n          <a className=\"hotPanel-positionsBadge\">\r\n            <div className=\"hotPanel-positionsInfo\">\r\n              {positions.length ? (\r\n                <h4 className=\"hotPanel-positionsCounter\">{positions.length}</h4>\r\n              ) : null}\r\n              <h4>open positions</h4>\r\n            </div>\r\n            <OpenPositionsIcon />\r\n          </a>\r\n        </LinkSmoothScroll>\r\n      </button>\r\n      <button className=\"hotPanel-contactUs\" onClick={openModal}>contact us</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HotPanel;\r\n"]},"metadata":{},"sourceType":"module"}