{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Bogomol\\\\Desktop\\\\softgames\\\\pages\\\\_error.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Error from 'next/error';\n\nvar Page = function Page(_ref) {\n  var errorCode = _ref.errorCode,\n      stars = _ref.stars;\n\n  if (errorCode) {\n    return __jsx(Error, {\n      statusCode: errorCode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 6\n      },\n      __self: this\n    });\n  }\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, \"No error\");\n};\n\nPage.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, res, errorCode, urlParts;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req, res = _ref2.res;\n            errorCode = res.statusCode > 200 ? res.statusCode : false;\n            /*\r\n              Handling ?= should be solved differently if you use dynamic routing,\r\n              this will only remove the 404 for those urls.\r\n            */\n\n            urlParts = req.url.split('?');\n\n            if (urlParts[0].endsWith('/')) {\n              urlParts[0] = urlParts[0].substring(0, urlParts[0].length - 1);\n              res.writeHead(301, {\n                Location: urlParts.join('?')\n              });\n              res.end();\n            }\n\n            return _context.abrupt(\"return\", {\n              errorCode: errorCode\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Page;","map":{"version":3,"sources":["C:/Users/Bogomol/Desktop/softgames/pages/_error.js"],"names":["React","Error","Page","errorCode","stars","getInitialProps","req","res","statusCode","urlParts","url","split","endsWith","substring","length","writeHead","Location","join","end"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAA0B;AAAA,MAAvBC,SAAuB,QAAvBA,SAAuB;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AACrC,MAAID,SAAJ,EAAe;AACb,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAEA,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD,CAND;;AAQAD,IAAI,CAACG,eAAL;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQC,YAAAA,GAAR,SAAQA,GAAR,EAAaC,GAAb,SAAaA,GAAb;AACfJ,YAAAA,SADe,GACHI,GAAG,CAACC,UAAJ,GAAiB,GAAjB,GAAuBD,GAAG,CAACC,UAA3B,GAAwC,KADrC;AAGrB;;;;;AAIIC,YAAAA,QAPiB,GAONH,GAAG,CAACI,GAAJ,CAAQC,KAAR,CAAc,GAAd,CAPM;;AAQrB,gBAAIF,QAAQ,CAAC,CAAD,CAAR,CAAYG,QAAZ,CAAqB,GAArB,CAAJ,EAA+B;AAC7BH,cAAAA,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAR,CAAYI,SAAZ,CAAsB,CAAtB,EAAyBJ,QAAQ,CAAC,CAAD,CAAR,CAAYK,MAAZ,GAAqB,CAA9C,CAAd;AACAP,cAAAA,GAAG,CAACQ,SAAJ,CAAc,GAAd,EAAmB;AAAEC,gBAAAA,QAAQ,EAAEP,QAAQ,CAACQ,IAAT,CAAc,GAAd;AAAZ,eAAnB;AACAV,cAAAA,GAAG,CAACW,GAAJ;AACD;;AAZoB,6CAcd;AAAEf,cAAAA,SAAS,EAATA;AAAF,aAdc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AAiBA,eAAeD,IAAf","sourcesContent":["import React from 'react'\r\nimport Error from 'next/error'\r\n\r\nconst Page = ({ errorCode, stars }) => {\r\n  if (errorCode) {\r\n    return <Error statusCode={errorCode} />\r\n  }\r\n\r\n  return <div>No error</div>\r\n};\r\n\r\nPage.getInitialProps = async ({req, res}) => {\r\n  const errorCode = res.statusCode > 200 ? res.statusCode : false\r\n\r\n  /*\r\n    Handling ?= should be solved differently if you use dynamic routing,\r\n    this will only remove the 404 for those urls.\r\n  */\r\n  let urlParts = req.url.split('?')\r\n  if (urlParts[0].endsWith('/')) {\r\n    urlParts[0] = urlParts[0].substring(0, urlParts[0].length - 1)\r\n    res.writeHead(301, { Location: urlParts.join('?') })\r\n    res.end()\r\n  }\r\n\r\n  return { errorCode }\r\n};\r\n\r\nexport default Page"]},"metadata":{},"sourceType":"module"}